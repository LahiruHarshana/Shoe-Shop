<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customers</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>


<body>


<div class="container">

    <h1>Customer Details</h1>

    <form id="customerForm">
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="customerId">Customer ID</label>
                <input type="text" class="form-control" id="customerId" placeholder="Customer ID" value="" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="customerName">Customer Name</label>
                <input type="text" class="form-control" id="customerName" placeholder="Customer Name" value="" required>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="userId">User ID</label>
                <input type="text" class="form-control" id="userId" placeholder="User ID" value="" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="gender">Gender</label>
                <select class="form-control" id="gender" required>
                    <option value="MALE">Male</option>
                    <option value="FEMALE">Female</option>
                    <option value="OTHER">Other</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="joinDate">Join Date</label>
                <input type="date" class="form-control" id="joinDate" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="level">Loyalty Level</label>
                <select class="form-control" id="level" required>
                    <option value="GOLD">Gold</option>
                    <option value="SILVER">Silver</option>
                    <option value="BRONZE">Bronze</option>
                    <option value="NEW">New</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="totalPoints">Total Points</label>
                <input type="number" class="form-control" id="totalPoints" placeholder="Total Points" value="" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="dob">Date of Birth</label>
                <input type="date" class="form-control" id="dob" required>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="addressLine1">Building No.</label>
                <input type="text" class="form-control" id="addressLine1" placeholder="Address Line 1" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="addressLine2">Lane</label>
                <input type="text" class="form-control" id="addressLine2" placeholder="Address Line 2" required>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="addressLine3">City</label>
                <input type="text" class="form-control" id="addressLine3" placeholder="Address Line 3" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="addressLine4">State</label>
                <input type="text" class="form-control" id="addressLine4" placeholder="Address Line 4" required>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="addressLine5">Postal Code</label>
                <input type="text" class="form-control" id="addressLine5" placeholder="Address Line 5" required>
            </div>
            <div class="col-md-6 mb-3">
                <label for="conNo">Contact No.</label>
                <input type="text" class="form-control" id="conNo" placeholder="" required>
            </div>
        </div>
        <div class="form-group">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="isActive" required>
                <label class="form-check-label" for="isActive">
                    Active
                </label>
            </div>
        </div>
        <button class="btn btn-primary" type="button" onclick="saveCustomer()">Submit form</button>
    </form>
</div>

<script>
    function saveCustomer() {


        console.log('Save Customer ha i haijai ');
        // const now = new Date();
        // const customerId = document.getElementById('customerId').value;
        // const customerName = document.getElementById('customerName').value;
        // const userId = document.getElementById('userId').value;
        // const gender = document.getElementById('gender').value;
        // const joinDate = formatDate(document.getElementById('joinDate').value);
        // const dob = formatDate(document.getElementById('dob').value);
        // const level = document.getElementById('level').value;
        // const totalPoints = document.getElementById('totalPoints').value;
        // const addressLine1 = document.getElementById('addressLine1').value;
        // const addressLine2 = document.getElementById('addressLine2').value;
        // const addressLine3 = document.getElementById('addressLine3').value;
        // const addressLine4 = document.getElementById('addressLine4').value;
        // const addressLine5 = document.getElementById('addressLine5').value;
        // const contactNo = document.getElementById('conNo').value;
        // const isActive = document.getElementById('isActive').checked;

       const customerData = {
            "customerId": "2",
            "customerName": "John Doe",
            "userId": "1",
            "gender": "MALE",
            "joinDate": "2024-04-26",
            "level": "GOLD",
            "totalPoints": 100,
            "dob": "1990-01-01",
            "addressLine1": "123 Main St",
            "addressLine2": "Apt 101",
            "addressLine3": "City",
            "addressLine4": "State",
            "addressLine5": "12345",
            "contactNo": "1234567890",
            "email": "john.doe@example.com",
            "recentPurchaseDateTime": "2024-04-26T14:00:00",
            "createBy": "admin",
            "modifyBy": "admin",
            "isActive": true
        };


        const token = "eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJsYWhpcnUiLCJpYXQiOjE3MTQxMjgwNzQsImV4cCI6MTcxNDIxNDQ3NH0.fs3Bq20dfWf6GT6N9waLv0WSkszW9yia7x8k6spjabg";

        fetch('http://localhost:8081/app/api/v1/customer', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${token}`
            },
            body: JSON.stringify(customerData)
        })
            .then(response => response.json())
            .then(data => {
                alert('Customer saved successfully');
            })
            .catch(error => {
                console.error('Error:', error);
            });
    }
</script>

</body>
</html>
